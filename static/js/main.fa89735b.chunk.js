(this.webpackJsonpskypey=this.webpackJsonpskypey||[]).push([[0],{122:function(e,t,s){},1418:function(e,t,s){},1455:function(e,t,s){},1456:function(e,t,s){},1457:function(e,t,s){},1458:function(e,t,s){},1459:function(e,t,s){},1460:function(e,t,s){},1461:function(e,t,s){},1462:function(e,t,s){},1463:function(e,t,s){"use strict";s.r(t);var n,a=s(1),c=s(2),r=s(113),i=s.n(r),u=(s(122),s(17)),o=s.n(u),l=s(18),d=s(124),j=s(133),m=s(50),b=s(17),f=(n=10,Array.from({length:n},(function(){return p()}))),v=b.mapKeys(f,"user_id"),h=function(e){var t={};return b.forEach(f,(function(s){var n;t[s.user_id]=Object(l.a)({},b.mapKeys((n=e,Array.from({length:n},(function(e,t){return{number:t,text:j.sentence(),is_user_msg:m.random.boolean()}}))),"number"))})),t};p(),h(10);function p(){return{name:m.name.findName(),email:m.internet.email(),status:j.sentence(),user_id:d.generate()}}var g=s(46);var O="SET_ACTIVE_USER_ID",_="SET_TYPING_VALUE",x="SEND_MESSAGE";var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return e},N=s(30);var E=Object(g.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return e},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.payload;case x:return"";default:return e}},contacts:y,messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var s=t.payload,n=s.message,a=s.userId,c=e[a],r=+o.a.keys(c).pop()+1;return Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},a,Object(l.a)(Object(l.a)({},c),{},Object(N.a)({},r,{number:r,text:n,is_user_msg:!0}))));default:return e}},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload;default:return e}}}),S=Object(g.b)(E),I=s(47),U=(s(1418),function(e){var t=e.user,s=t.name,n=t.status;return Object(a.jsxs)("div",{className:"User",onClick:function(e){var t=e.user_id;S.dispatch((s=t,{type:O,payload:s}));var s}.bind(null,t),children:[Object(a.jsx)(I.a,{name:s,className:"User__pic",size:50}),Object(a.jsxs)("div",{className:"User__details",children:[Object(a.jsx)("p",{className:"User__details-name",children:s}),Object(a.jsx)("p",{className:"User__details-status",children:n})]})]})}),C=(s(1455),function(e){var t=e.contacts;return Object(a.jsx)("aside",{className:"Sidebar",children:t.map((function(e){return Object(a.jsx)(U,{user:e},e.user_id)}))})}),w=(s(1456),function(e){var t=e.user,s=t.name,n=t.status,c=s.split(" ")[0];return Object(a.jsxs)("div",{className:"Empty",children:[Object(a.jsxs)("h1",{className:"Empty__name",children:["Welcome, ",c]}),Object(a.jsx)(I.a,{name:s,className:"Empty__img",size:100}),Object(a.jsxs)("p",{className:"Empty__status",children:[Object(a.jsx)("b",{children:"Status:"})," ",n]}),Object(a.jsx)("button",{className:"Empty__btn",children:"Start a Conversation"}),Object(a.jsx)("p",{className:"Empty__info",children:"Search for someone to start chatting with or go to Contacts to see who is available"})]})}),k=(s(1457),function(e){var t=e.user,s=t.name,n=t.status;return Object(a.jsxs)("header",{className:"Header",children:[Object(a.jsx)("h1",{className:"Header__name",children:s}),Object(a.jsx)("p",{className:"Header__status",children:n})]})}),M=(s(1458),function(e){var t=e.message,s=t.text,n=t.is_user_msg;return Object(a.jsx)("span",{className:"Chat ".concat(n?"is-user-msg":""),children:s})}),T=function(e){var t=e.messages,s=Object(c.useRef)();return Object(c.useEffect)((function(){s.current.scrollTop=s.current.scrollHeight}),[t]),Object(a.jsx)("div",{className:"Chats",ref:s,children:t.map((function(e){return Object(a.jsx)(M,{message:e},e.number)}))})},A=(s(1459),function(e){var t=e.value,s=S.getState();return Object(a.jsx)("form",{className:"Message",onSubmit:function(e){e.preventDefault();var t=s.typing,n=s.activeUserId;S.dispatch({type:x,payload:{message:t,userId:n}})},children:Object(a.jsx)("input",{type:"text",className:"Message__input",value:t,onChange:function(e){S.dispatch(function(e){return{type:_,payload:e}}(e.target.value))},placeholder:"Write a Message..."})})}),D=(s(1460),function(e){var t=e.activeUserId,s=S.getState(),n=s.contacts[t],r=Object(c.useMemo)((function(){return s.messages[t]}),[s,t]),i=Object(c.useMemo)((function(){return o.a.values(r)}),[r]),u=s.typing;return Object(a.jsxs)("div",{className:"ChatWindow",children:[Object(a.jsx)(k,{user:n}),Object(a.jsx)(T,{messages:i}),Object(a.jsx)(A,{value:u})]})}),F=(s(1461),function(e){var t=e.user,s=e.activeUserId;return Object(a.jsx)("main",{className:"Main",children:s?Object(a.jsx)(D,{activeUserId:s}):Object(a.jsx)(w,{user:t,activeUserId:s})})}),H=(s(1462),function(){var e=S.getState(),t=e.contacts,s=e.user,n=e.activeUserId;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(C,{contacts:o.a.values(t)}),Object(a.jsx)(F,{user:s,activeUserId:n})]})}),L=function(){console.log("%c Rendered with \ufffd \ufffd \ufffd ","background: purple; color:#fff"),console.log(S.getState()),i.a.render(Object(a.jsx)(H,{}),document.getElementById("root"))};(function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,1464)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))})(),S.subscribe(L),L()}},[[1463,1,2]]]);
//# sourceMappingURL=main.fa89735b.chunk.js.map